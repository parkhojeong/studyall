* use summary table for statistics
- core idea: calculate and store statistics beforehand

statistics table creation
```sql
use my_shop5;
drop table if exists daily_sales_stats;

create table daily_sales_stats(
    stat_date date not null primary key,
    total_order_count int not null default 0,
    total_sales_amount bigint not null default 0
)
```
- stat_date is a criteria date. one row for each day 
- a row is inserted every day (365 rows in a year)

* batch job(stats data creation)
```sql
insert into daily_sales_stats(stat_date, total_order_count, total_sales_amount)
select 
    date(order_date),
    count(*),
    sum(total_amount)
from orders
where order_date >= '2026-01-01 00:00:00'
and order_date < '2026-01-02 00:00:00'
and order_status = 'COMPLETED'
group by date(order_date);
```

* stats table query
```sql
select * from daily_sales_stats where stat_date = '2026-01-01';
```

pros and cons
pros
- query speed: only stats table is accessed
cons
- lack of real-time: "today how many sales?"
- management overhead: batch job is required. batch job can be failed