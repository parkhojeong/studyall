* when to use json
completed different attributes by category
- electronics, clothes, food
- phone: screen_size, ram, battery
- clothes: size, color, material
- food: calories, ingredients, allergens
attributes are changed or updated frequently
schema cannot be estimated
- user defined field
- external api response 
- setting data
data snapshot stored
- product info at order time
- history data

* bad case to use json
data often searched and ordered
data that is required to aggregate and analyze
- data for statistics, report, dashboard
- sum, avg, group by are used frequently
reference integrity is important
- a relationship between tables is important
- fk is required
transactional integrity is important
- finance data
- stock quantity
- core business data
data integrity is important
- all records must be the same structure
- required field validation is required

* practice design pattern
use a hybrid pattern (relation + json)

* json design summary
pros
1. schema flexibility
2. development productivity
3. query simplicity
cons
1. data integrity weakness
2. storage space efficiency
3. data update complexity

conclusion: when to use json
- metadata, log, setting info, unstructured data
- traditional column approach: core business, requires fk reference, aggregating and reporting
