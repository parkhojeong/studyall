* problem and solution

# problem1: database and table creation
[problem]
for shopping mall project, create 'my_test' database. and use database.
and members table to save user info. members table has columns below
DESC members; results
```
Field       | Type          | Null  | Key | Default | Extra
id          | int           | NO    | PRI | NULL    | 
name        | varchar(50)   | NO    |     | NULL    |
join_date   | date          | YES   |     | NULL    |
```
```sql
-- 1. create database
CREATE DATABASE my_test;
-- 2. use database
use my_test;
-- 3. create table
CREATE TABLE members(
    id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    join_date DATE
)
-- 4. DESC table
DESC members; 
```

# problem2: insert and select data
add two member to members table. select all members
1. id: 1, name: seon, join_date: 2025-01-10
2. id: 2, name: nate, join_date: 2025-02-15
select * from members;
```
+----+--------+---------------------+
| id | name   | join_date           |
+----+--------+---------------------+
|  1 | seon   | 2025-01-10          |
|  2 | nate   | 2025-02-15          |
+----+--------+---------------------+
```
```sql
insert into members(id, name, join_date) values
('1', 'seon', '2025-01-10'),
('2', 'nate', '2025-02-15');

select * from members;
```

# problem3: update and delete data
1. update name where id = 2 to 'nate2'
2. delete where id = 1
select * from members;
```
+----+--------+---------------------+
| id | name   | join_date           |
+----+--------+---------------------+
|  2 | nate2  | 2025-02-15          |
+----+--------+---------------------+
```

```sql
update members set name = 'nate2' where id = 2;
delete from members where id = 1;
```

# problem4: table creation with constraint condition
create shopping mall products table with requirement and constraint condition, describe table structure
use database my_test.
- product_id: integer, auto increment primary key
- product_name: max length 100 characters, not null
- product_code: max length 20 characters, unique
- price: integer, not null
- stock_count: integer, not null, default 0
DESC products;
```
+-------------+--------------+------+-----+---------+----------------+
| Field       | Type         | Null | Key | Default | Extra          |
+-------------+--------------+------+-----+---------+----------------+
| product_id  | int          | NO   | PRI | NULL    | auto_increment |
| product_name| varchar(100) | NO   |     | NULL    |                |
| product_code| varchar(20)  | YES  | UNI | NULL    |                |
| price       | int          | NO   |     | NULL    |                |
| stock_count | int          | NO   |     | 0       |                |
+-------------+--------------+------+-----+---------+----------------+
```

```sql
USE my_test;
create table products(
    product_id      INT             PRIMARY KEY AUTO_INCREMENT,
    product_name    VARCHAR(100)    NOT NULL,
    product_code    VARCHAR(20)     UNIQUE,
    price           INT             NOT NULL,
    stock_count     INT             NOT NULL DEFAULT 0
);
DESC products;
```

# problem5: make relation using foreign key
create customers table and orders table.
customer_id of orders is foreign key that reference customer_id of customers

- customers table
  - customer_id: integer, pk, auto increment
  - name: varchar(50), require
- orders table
  - order_id: integer, pk, auto increment
  - customer_id: integer, require
  - order_date: datetime, default current datetime
  - foreign key: orders.customer_id references customers.customer_id
after create tables, insert data 'hong' into customers and insert order data into orders
select * FROM customers;
```
+----+--------+
| id | name   |
+----+--------+
|  1 | hong   |
+----+--------+
```
SELECT * FROM orders;
```
+----------+-------------+-------------------+
| order_id | customer_id | order_date        |
+----------+--------------------------------+
|  1       |          1  |2025-01-27 14:54:26|
+----------+-------------+-------------------+
```
```sql
CREATE TABLE customers(
    customer_id INT PRIMARY KEY  AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL
);
CREATE TABLE orders(
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    customer_id INT NOT NULL,
    order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_orders_customers FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
INSERT INTO customers(name) VALUES ('hong');
INSERT INTO orders(customer_id) VALUES (1);
```

# problem6: constraint condition violation occur
in result of problem5, insert two data below, explain why it failed.
1. using customer_id(999) customer table does not have, insert data into orders table
2. when inserting data into the customers table, insert data without name.

```sql
-- 1
INSERT INTO orders(customer_id) VALUES (999);
-- Error Code: 1452. Cannot add or update a child row: a foreign key constraint fails (`my_test`.`orders`, CONSTRAINT `fk_orders_customers` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`customer_id`))

-- 2
INSERT INTO customers(customer_id) VALUES (2);
-- Error Code: 1364. Field 'name' doesn't have a default value
```