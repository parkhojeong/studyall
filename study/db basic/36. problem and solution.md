* problem and solution

* problem1: all user list 
- active user and retired user, without duplicate
- select name, email 
```sql
select name, email from users
union
select name, email from retired_users;
```

* problem2: special event target user list(include duplicate)
- do event to two group
1. user who order product in '전자기기' category one or more times
2. user who order two or more products for an order
- without removal duplicate, column alias user_name, email
```sql
use my_shop2;
(select 
     u.name as user_name, u.email
from users u
    join orders o on u.user_id = o.order_id
    join products p on o.product_id = p.product_id
where p.category = '전자기기')

union all

(select distinct u.name, u.email -- distinct
from orders o
    join users u on o.user_id = u.user_id
where o.quantity > 1);
```

* problem3: main event timeline creation
- user join event, product order event, order by time
  - users, deal created_at with user join event
  - orders, deal order_date with product order event
  - column event_date, event_type, detail_description
  - detail_description: user join event - user_name, product order event - product_name
  - recent event first
```sql
select 
    created_at as event_date, 
    '고객 가입' as event_type, 
    name as detail_description
from users

union all

select 
    o.order_date, 
    '상품 주문', 
    p.name
from orders o
join products p on o.product_id = p.product_id
order by event_date desc;
```

* problem4
- union users and employees
  - name, role, email
  - users email
  - employees email is name + @my-shop.com
  - order by name asc
```sql
select name, 'customer' as role, email 
from users

union all

select name, 'employee', concat(name, '@my-shop.com')
from employees

order by name;

```