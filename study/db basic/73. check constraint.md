* check constraint
- for data value constraint
  - ex. price must be positive, stock must be positive
  - ex. order status must be pending or completed

* check constraint role and grammar
- check constraint is used when insert or update

```sql
drop table if exists orders;
drop table if exists products;

create table products
(
  product_id bigint auto_increment primary key,
  name       varchar(255) not null,
  category   varchar(100),
  price      int          not null check (price >= 0),
  stock_quantity int not null check (stock_quantity >= 0),
  discount_rate decimal(5,2) default 0.00 check (discount_rate between 0.00 and 100.00)
);
```
- for check constraint name, use ddl
`constraint constraint_name check (expression)`

* violation senario
1. try to input negative value in price column
```sql
insert into products(name, category, price, stock_quantity)
values('dd', 'dd', -5000, 10);
-- Error Code: 3819. Check constraint 'products_chk_1' is violated.
```

2. try to input over the discount rate
```sql
insert into products(name, category, price, stock_quantity, discount_rate)
values('dd', 'dd', 5000, 20, 120.00);
-- Error Code: 3819. Check constraint 'products_chk_3' is violated.
```


* [practical story] in where validate data?
- commonly in application code: it is more flexible and testable
- db check constraint should be used for only very important case
  - ex. order status must be 'pending' or 'completed'