* select subquery
- subquery in select clause

* un correlated subquery
- requirement: select all products, show price and avg(price) of all products
```sql
select 
    price, 
    (select avg(price) from products) -- un correlated subquery
from products;
```
- scalar subquery is allowed in select clause

* query execution flow
1. subquery execute
2. store 1 result
3. main query execute
4. each row use 1 result
- subquery execute independently

* correlated subquery
- requirement: select all products, each product that what time is ordered
```sql
select 
	name, 
    price, 
    (select count(*) 
		from orders o 
        where o.product_id = p.product_id)
from products p;
```

```
select count(*) from orders o where o.product_id = {product_id}
```

* practice tip
- consider performance issue

- rewrite left join and group by
```sql
select
    p.product_id, p.name, p.price, 
    count(order_id)
from products p
left join orders o on p.product_id = o.product_id
group by p.product_id, p.name, p.price;
```

- learned about subquery in where clause and select clause
- next, learn from clause (Inline View)