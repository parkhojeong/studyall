* flush
- changes in a persistent context are written to db
    - dirty checking - update query generation
    - persist() - insert query generation
    - remove() - delete query generation

* flush execution method(FlushModeType.AUTO - default)
- em.flush() - directly execute
- transaction.commit() - flush is executed automatically
- jpql query execution - flush is executed automatically
  - jpql query is translated into sql query and executed
  - if flush() is not executed, an unexpected case can occur
```java
em.persist(new Member(1L));
// if flush is not executed, the following query return no result
em.createQuery("select m from Member m where m.id = 1", Member.class); 
```

* flush modes
- FlushModeType.AUTO(default)
- FlushModeType.COMMIT: only when transaction is committed

* caution
- flush does not clear persistence context
- flush synchronizes the state of the persistence context with the database
- a transaction execution unit is important -> flush may be executed just before the transaction commit  